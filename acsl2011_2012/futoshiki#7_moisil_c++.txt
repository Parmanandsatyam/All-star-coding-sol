#include <cstdio>
#include <algorithm>

using namespace std;

char a[10][10];
int b[10][10];
int c[10][10];
int vizLinii[10][10];
int vizColoane[10][10];

void afiseazaPozitia (int x){
    for (int i = 0; i < 5; ++ i){
        for (int j = 0; j < 5; ++ j){
            if (c[i][j] == x){
                printf ("%d\n", b[i][j]);
                return;
            }
        }
    }
}

void afisare(){
    int s = 1;
    for (int i = 0; i <= 4; ++ i){
        for (int j = 0; j <= 4; ++ j){
            c[i][j] = s ++;
        }
    }
    int x;
    for (int i = 0; i < 10; ++ i){
        scanf ("%d,", &x);
        afiseazaPozitia (x);
    }
}

void verf(){
    for (int i = 0; i < 5; ++ i){
        for (int j = 0; j < 5; ++ j){
            if (a[i][j] >= '0' && a[i][j] <= '9' && a[i][j] - '0' != b[i][j]){
                return;
            }
            if (a[i][j] == '>'){
                if (j == 4){
                   if(b[i][4] < b[i][3]){
                        return;
                   }
                }else{
                   if (b[i][j] < b[i][j + 1]){
                        return;
                   }

                }
            }
            if (a[i][j] == '<'){
                if (j == 4){
                    if (b[i][4] > b[i][3]){
                        return;
                    }
                }else{
                    if (b[i][j] > b[i][j + 1]){
                        return;
                    }
                }
            }
        }
    }
    afisare();
    exit(0);
}

void back (int i, int j){
    if (j == 5){
        if (i == 4){
            verf();
            return;
        }
        back (i + 1, 0);
        return;
    }
    for (int k = 1; k <= 5; ++ k){
        if (vizLinii[i][k] == 0 && vizColoane[j][k] == 0){
            vizLinii[i][k] = 1;
            vizColoane[j][k] = 1;
            b[i][j] = k;
            back (i, j + 1);
            vizLinii[i][k] = 0;
            vizColoane[j][k] = 0;
        }
    }
}

void citire(){
    for (int i = 0; i < 5; ++ i){
        gets (a[i]);
    }
    back(0, 0);
}

int main()
{
    freopen ("fis.in", "r", stdin);

    citire();

    return 0;
}
